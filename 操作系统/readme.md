## 线程与进程

### 区别:
- 进程是资源分配的基本单位；线程是程序执行的基本单位。
- 进程拥有自己的资源空间，启动一个进程，系统就会为它分配地址空间；而线程与CPU源分配无关，多线程共享同一进程内的资源，使用相同的地址空间。
- 一个进程可以包含若干个线程。

### 优劣: 
- 线程之间的通信更方便，同一进程下的线程共享全局变量、静态变量等数据
- 而进程之间的通信需要以通信的方式（Inter Process Communication，IPC)进行。不如何处理好同步与互斥是编写多线程程序的难点。
- 线程的调度与切换比进程快很多，同时创建一个线程的开销也比进程要小很多。
- 但是多进程程序更健壮，多线程程序只要有一个线程死掉，整个进程也死掉了，而一个进程死掉并不会对另外一个进程造成影响，因为进程有自己独立的地址空间。

### 进程通讯
- **管道**。从上面的例子可以看出，管道的通知机制类似于缓存，就像一个进程把数据放在某个缓存区域，然后等着另外一个进程去拿，并且是管道是单向传输的。
- **消息队列**。把进程的数据放在某个内存之后就马上让进程返回。如果进程发送的数据占的内存比较大，并且两个进程之间的通信特别频繁的话，需要花很多时间来读内存。
- **共享内存**。共享内存这个通信方式就可以很好着解决拷贝所消耗的时间。
	系统加载一个进程的时候，分配给进程的内存并不是实际物理内存，而是虚拟内存空间。那么我们可以让两个进程各自拿出一块虚拟地址空间来，然后映射到相同的物理内存中，这样，两个进程虽然有着独立的虚拟内存空间，但有一部分却是映射到相同的物理内存，这就完成了内存共享机制了。
	使用信号量规避冲突	
- **信号量**。信号量（semaphore）是一个计数器。信号量用于实现进程间的互斥与同步，而不是用于存储进程间通信数据。